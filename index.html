<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Independence Hub 2026 | Mission Control</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== CSS RESET & GLOBAL STYLES ===== */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #1a2530;
            --gray: #95a5a6;
            --light-gray: #f8f9fa;
            --savings: #9b59b6;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: var(--dark);
            line-height: 1.6;
            padding-bottom: 70px;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }

        /* ===== HEADER & NAVIGATION ===== */
        header {
            background-color: var(--primary);
            color: white;
            padding: 15px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            padding: 0 15px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo i {
            font-size: 1.5rem;
            color: var(--accent);
        }

        .logo h1 {
            font-size: 1.2rem;
        }

        .logo span {
            color: var(--accent);
        }

        .date-display {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
        }

        /* ===== MAIN LAYOUT ===== */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            transition: var(--transition);
            will-change: transform;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            font-size: 1.1rem;
        }

        .card-title i {
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        .btn {
            padding: 8px 12px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 0.9rem;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .btn-primary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background-color: #2980b9;
        }

        .btn-success {
            background-color: var(--accent);
            color: white;
        }

        .btn-success:hover {
            background-color: #27ae60;
        }

        .btn-savings {
            background-color: var(--savings);
            color: white;
        }

        .btn-savings:hover {
            background-color: #8e44ad;
        }

        /* ===== FORM ELEMENTS ===== */
        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--primary);
            font-size: 0.95rem;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
            -webkit-appearance: none;
            appearance: none;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .input-group {
            display: flex;
            gap: 8px;
        }

        .input-group input {
            flex: 1;
        }

        /* ===== DAILY MISSION ===== */
        .mission-container {
            display: flex;
            align-items: center;
            gap: 12px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 12px;
        }

        .mission-checkbox {
            min-width: 22px;
            height: 22px;
            cursor: pointer;
        }

        .mission-text {
            flex: 1;
            font-size: 1rem;
        }

        .mission-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .status-done {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--accent);
        }

        .status-partial {
            background-color: rgba(243, 156, 18, 0.2);
            color: var(--warning);
        }

        .status-missed {
            background-color: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        /* ===== CHARTS ===== */
        .chart-container {
            height: 150px;
            margin-top: 15px;
            display: flex;
            align-items: flex-end;
            gap: 8px;
        }

        .chart-bar {
            flex: 1;
            background-color: var(--secondary);
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: var(--transition);
        }

        .chart-label {
            position: absolute;
            bottom: -22px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.7rem;
            color: var(--gray);
        }

        /* ===== SLEEP TRACKER ===== */
        .sleep-quality {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .quality-option {
            flex: 1;
            text-align: center;
            padding: 8px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            font-size: 0.9rem;
        }

        .quality-option.selected {
            border-color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
        }

        .quality-good {
            color: var(--accent);
        }

        .quality-medium {
            color: var(--warning);
        }

        .quality-poor {
            color: var(--danger);
        }

        /* ===== ENERGY RATING ===== */
        .energy-rating {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .energy-point {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background-color: #ddd;
            cursor: pointer;
            transition: var(--transition);
            margin: 2px;
        }

        .energy-point.active {
            background-color: var(--accent);
        }

        .energy-point.low {
            background-color: var(--danger);
        }

        .energy-point.medium {
            background-color: var(--warning);
        }

        .energy-point.high {
            background-color: var(--accent);
        }

        /* ===== DATA TABLES ===== */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
            font-size: 0.9rem;
        }

        .data-table th {
            background-color: var(--light);
            padding: 10px;
            text-align: left;
            font-weight: 600;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .data-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .data-table tr:hover {
            background-color: #f9f9f9;
        }

        /* ===== SAVINGS TRACKER ===== */
        .savings-summary {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            text-align: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .savings-item {
            flex: 1;
            min-width: 100px;
            padding: 12px;
            border-radius: var(--border-radius);
            background-color: #f8f9fa;
        }

        .savings-item.current {
            border: 2px solid var(--savings);
        }

        .savings-item.goal {
            border: 2px solid var(--secondary);
        }

        .savings-item.progress {
            border: 2px solid var(--accent);
        }

        .savings-amount {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
            word-break: break-all;
        }

        .savings-label {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .progress-bar {
            width: 100%;
            height: 18px;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--savings);
            border-radius: 10px;
            transition: width 1s ease;
        }

        /* ===== NOTIFICATIONS ===== */
        .notification {
            position: fixed;
            bottom: 70px;
            right: 15px;
            left: 15px;
            background-color: var(--primary);
            color: white;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
            max-width: 400px;
            margin: 0 auto;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification i {
            font-size: 1.2rem;
            color: var(--accent);
        }

        .notification-content h4 {
            margin-bottom: 3px;
            font-size: 1rem;
        }

        .notification-content p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        /* ===== FOOTER NAVIGATION ===== */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--primary);
            color: white;
            padding: 12px 0;
            display: flex;
            justify-content: space-around;
            z-index: 99;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-btn {
            background: none;
            border: none;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            opacity: 0.7;
            transition: var(--transition);
            padding: 5px 10px;
            font-size: 0.8rem;
            -webkit-tap-highlight-color: transparent;
        }

        .nav-btn:hover, .nav-btn.active {
            opacity: 1;
            color: var(--accent);
        }

        .nav-btn i {
            font-size: 1.2rem;
        }

        /* ===== SECTIONS FOR NAVIGATION ===== */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===== QUICK ADD SECTION ===== */
        .quick-add-form {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
        }

        .quick-add-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .quick-add-option {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .quick-add-option:hover {
            border-color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
        }

        .quick-add-option i {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        /* ===== STATS SECTION ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* ===== SETTINGS SECTION ===== */
        .settings-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .settings-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .settings-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .settings-option:last-child {
            border-bottom: none;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .header-container {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .savings-summary {
                flex-direction: column;
                gap: 10px;
            }
            
            .savings-item {
                min-width: 100%;
            }
            
            .footer-nav {
                padding: 10px 0;
            }
            
            .nav-btn {
                font-size: 0.7rem;
                padding: 5px;
            }
            
            .nav-btn i {
                font-size: 1rem;
            }
            
            .card {
                padding: 15px;
            }
            
            .mission-container {
                padding: 12px;
                flex-wrap: wrap;
            }
            
            .mission-status {
                margin-top: 8px;
                width: 100%;
                text-align: center;
            }
            
            .energy-rating {
                justify-content: center;
            }
            
            .energy-point {
                width: 24px;
                height: 24px;
            }
            
            .data-table {
                font-size: 0.8rem;
            }
            
            .data-table th, .data-table td {
                padding: 8px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .logo h1 {
                font-size: 1rem;
            }
            
            .card-title {
                font-size: 1rem;
            }
            
            .btn {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            
            .chart-container {
                height: 120px;
            }
            
            .quick-add-options {
                grid-template-columns: 1fr;
            }
        }

        /* ===== DARK MODE ===== */
        body.dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }

        body.dark-mode .card,
        body.dark-mode .quick-add-form,
        body.dark-mode .stat-card,
        body.dark-mode .settings-card {
            background-color: #1e1e1e;
            color: #e0e0e0;
        }

        body.dark-mode input,
        body.dark-mode textarea,
        body.dark-mode select {
            background-color: #2d2d2d;
            color: #e0e0e0;
            border-color: #444;
        }

        body.dark-mode .data-table th {
            background-color: #2d2d2d;
        }

        body.dark-mode .data-table tr:hover {
            background-color: #2d2d2d;
        }

        body.dark-mode .mission-container,
        body.dark-mode .savings-item,
        body.dark-mode .quick-add-option {
            background-color: #2d2d2d;
        }

        /* ===== PERFORMANCE OPTIMIZATIONS ===== */
        .card, .btn, input, textarea, select {
            will-change: transform;
        }

        /* Disable hover effects on touch devices for better performance */
        @media (hover: none) and (pointer: coarse) {
            .card:hover {
                transform: none;
                box-shadow: var(--shadow);
            }
            
            .btn:hover {
                opacity: 1;
            }
            
            .quality-option:hover {
                background-color: transparent;
            }
            
            .quick-add-option:hover {
                border-color: transparent;
                background-color: var(--light);
            }
        }

        /* ===== PRINT STYLES FOR PDF EXPORT ===== */
        @media print {
            .footer-nav, .notification, .card-actions, .theme-toggle,
            .nav-btn, .section:not(.active) {
                display: none !important;
            }
            
            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            body {
                background-color: white !important;
                color: black !important;
                padding-bottom: 0;
            }
            
            .section.active {
                display: block !important;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-rocket"></i>
                <div>
                    <h1>Independence <span>Hub 2026</span></h1>
                    <div class="date-display" id="currentDate"></div>
                </div>
            </div>
            <div>
                <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Sections -->
    <div class="container">
        <!-- Dashboard Section (Default View) -->
        <section id="dashboard-section" class="section active">
            <div class="dashboard">
                <!-- Daily Mission Card -->
                <div class="card" id="missionCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-bullseye"></i> Daily Mission</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="saveMission">Save</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="missionInput">Today's Most Important Task</label>
                        <input type="text" id="missionInput" placeholder="What is the one thing you must accomplish today?">
                    </div>
                    <div class="mission-container">
                        <input type="checkbox" class="mission-checkbox" id="missionCheckbox">
                        <div class="mission-text" id="missionText">No mission set for today</div>
                        <div class="mission-status status-missed" id="missionStatus">Not Started</div>
                    </div>
                    <div class="form-group">
                        <label>Completion Status</label>
                        <div style="display: flex; gap: 15px; margin-top: 10px;">
                            <div class="status-option" data-status="done">
                                <div style="width: 20px; height: 20px; background-color: var(--accent); border-radius: 50%; display: inline-block; margin-right: 5px;"></div>
                                <span>Done</span>
                            </div>
                            <div class="status-option" data-status="partial">
                                <div style="width: 20px; height: 20px; background-color: var(--warning); border-radius: 50%; display: inline-block; margin-right: 5px;"></div>
                                <span>Partial</span>
                            </div>
                            <div class="status-option" data-status="missed">
                                <div style="width: 20px; height: 20px; background-color: var(--danger); border-radius: 50%; display: inline-block; margin-right: 5px;"></div>
                                <span>Missed</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Skill Practice Log Card -->
                <div class="card" id="skillCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-code"></i> Skill Practice</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="addSkill">Add</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="skillName">Skill</label>
                        <input type="text" id="skillName" value="Web Design">
                    </div>
                    <div class="form-group">
                        <label for="skillDuration">Duration (minutes)</label>
                        <input type="number" id="skillDuration" min="1" value="30">
                    </div>
                    <div class="form-group">
                        <label for="skillNotes">Notes</label>
                        <textarea id="skillNotes" placeholder="What did you work on? What did you learn?"></textarea>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 10px;">Practice History</h3>
                        <table class="data-table" id="skillTable">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Skill</th>
                                    <th>Duration</th>
                                </tr>
                            </thead>
                            <tbody id="skillTableBody">
                                <!-- Skill log rows will be added here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 20px;">
                        <h3>Skill Practice Trends</h3>
                        <div class="chart-container" id="skillChart">
                            <!-- Real skill chart will be generated from user data -->
                        </div>
                    </div>
                </div>

                <!-- Income Tracker Card -->
                <div class="card" id="incomeCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-money-bill-wave"></i> Income Tracker</h2>
                        <div class="card-actions">
                            <button class="btn btn-success" id="addIncome">Add</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="incomeAmount">Amount (Ksh)</label>
                        <input type="number" id="incomeAmount" min="0" step="100" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="incomeSource">Source</label>
                        <input type="text" id="incomeSource" placeholder="Freelance, Side hustle, etc.">
                    </div>
                    <div class="form-group">
                        <label for="incomeDate">Date</label>
                        <input type="date" id="incomeDate">
                    </div>
                    <div class="form-group">
                        <label for="incomeToSavings">Allocate to Savings (Ksh)</label>
                        <input type="number" id="incomeToSavings" min="0" step="100" placeholder="0">
                    </div>
                    <div>
                        <h3>Income Summary</h3>
                        <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                            <div style="text-align: center;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--accent);" id="weeklyIncome">Ksh 0</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">This Week</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--secondary);" id="monthlyIncome">Ksh 0</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">This Month</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary);" id="totalIncome">Ksh 0</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Total</div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 20px;">
                        <h3>Recent Income</h3>
                        <table class="data-table" id="incomeTable">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Source</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="incomeTableBody">
                                <!-- Income rows will be added here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div style="margin-top: 20px;">
                        <h3>Income Trends</h3>
                        <div class="chart-container" id="incomeChart">
                            <!-- Real income chart will be generated from user data -->
                        </div>
                    </div>
                </div>

                <!-- Savings Tracker Card -->
                <div class="card" id="savingsCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-piggy-bank"></i> Savings Tracker</h2>
                        <div class="card-actions">
                            <button class="btn btn-savings" id="setGoal">Set Goal</button>
                            <button class="btn btn-primary" id="addSavings">Add</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="goalAmount">Goal Amount (Ksh)</label>
                        <input type="number" id="goalAmount" min="0" step="1000" placeholder="e.g., 100000">
                    </div>
                    <div class="savings-summary">
                        <div class="savings-item current">
                            <div class="savings-amount" id="currentSavings">Ksh 0</div>
                            <div class="savings-label">Current Savings</div>
                        </div>
                        <div class="savings-item goal">
                            <div class="savings-amount" id="goalDisplay">Ksh 0</div>
                            <div class="savings-label">Goal</div>
                        </div>
                        <div class="savings-item progress">
                            <div class="savings-amount" id="progressPercentage">0%</div>
                            <div class="savings-label">Progress</div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                    </div>
                    <div class="form-group" style="margin-top: 20px;">
                        <label for="savingsAmount">Add to Savings (Ksh)</label>
                        <input type="number" id="savingsAmount" min="0" step="100" placeholder="0">
                    </div>
                    <div class="form-group">
                        <label for="savingsNote">Note (optional)</label>
                        <input type="text" id="savingsNote" placeholder="e.g., Emergency fund, Investment, etc.">
                    </div>
                    <div>
                        <h3>Recent Savings</h3>
                        <table class="data-table" id="savingsTable">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Note</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="savingsTableBody">
                                <!-- Savings rows will be added here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Sleep Tracker Card -->
                <div class="card" id="sleepCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-bed"></i> Sleep Tracker</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="saveSleep">Save</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="sleepDate">Date</label>
                        <input type="date" id="sleepDate">
                    </div>
                    <div class="input-group">
                        <div class="form-group" style="flex: 1;">
                            <label for="bedtime">Bedtime</label>
                            <input type="time" id="bedtime" value="23:00">
                        </div>
                        <div class="form-group" style="flex: 1;">
                            <label for="wakeTime">Wake Time</label>
                            <input type="time" id="wakeTime" value="07:00">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Sleep Quality</label>
                        <div class="sleep-quality">
                            <div class="quality-option quality-good" data-quality="good">
                                <i class="fas fa-smile"></i>
                                <div>Good</div>
                            </div>
                            <div class="quality-option quality-medium" data-quality="medium">
                                <i class="fas fa-meh"></i>
                                <div>Medium</div>
                            </div>
                            <div class="quality-option quality-poor" data-quality="poor">
                                <i class="fas fa-frown"></i>
                                <div>Poor</div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 20px;">
                        <h3>Sleep Quality Trend</h3>
                        <div class="chart-container" id="sleepChart">
                            <!-- Real sleep chart will be generated from user data -->
                        </div>
                    </div>
                </div>

                <!-- Social/Distraction Log Card -->
                <div class="card" id="socialCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-users"></i> Social & Distraction Log</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="saveSocial">Save</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="socialDate">Date</label>
                        <input type="date" id="socialDate">
                    </div>
                    <div class="form-group">
                        <label for="socialMediaTime">Social Media (minutes)</label>
                        <input type="number" id="socialMediaTime" min="0" value="0">
                    </div>
                    <div class="input-group">
                        <div class="form-group" style="flex: 1;">
                            <label for="gamingTime">Gaming (minutes)</label>
                            <input type="number" id="gamingTime" min="0" value="0">
                        </div>
                        <div class="form-group" style="flex: 1;">
                            <label for="musicTime">Music (minutes)</label>
                            <input type="number" id="musicTime" min="0" value="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="unexpectedSocial">Unexpected Social Interactions</label>
                        <textarea id="unexpectedSocial" placeholder="Note any unexpected social interactions that affected your focus"></textarea>
                    </div>
                    <div>
                        <h3>Today's Distraction Summary</h3>
                        <div style="display: flex; justify-content: space-between; margin-top: 15px; text-align: center;">
                            <div>
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--danger);" id="totalDistraction">0 min</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Total Distraction</div>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--warning);" id="socialMediaDisplay">0 min</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Social Media</div>
                            </div>
                            <div>
                                <div style="font-size: 1.2rem; font-weight: bold; color: var(--secondary);" id="gamingDisplay">0 min</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Gaming</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mood & Energy Card -->
                <div class="card" id="moodCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-brain"></i> Mood & Energy</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="saveMood">Save</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="moodDate">Date</label>
                        <input type="date" id="moodDate">
                    </div>
                    <div class="form-group">
                        <label>Morning Energy (1-10)</label>
                        <div class="energy-rating" id="morningEnergy">
                            <!-- Energy points will be generated by JavaScript -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Evening Energy (1-10)</label>
                        <div class="energy-rating" id="eveningEnergy">
                            <!-- Energy points will be generated by JavaScript -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="moodNotes">Notes</label>
                        <textarea id="moodNotes" placeholder="How are you feeling? What affected your energy levels?"></textarea>
                    </div>
                    <div style="margin-top: 20px;">
                        <h3>Energy Trends</h3>
                        <div style="display: flex; height: 150px; align-items: flex-end; gap: 5px; margin-top: 15px;">
                            <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                <div style="width: 80%; background-color: var(--accent); border-radius: 4px 4px 0 0;" id="morningEnergyBar"></div>
                                <div style="margin-top: 5px; font-size: 0.8rem;">Morning</div>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                <div style="width: 80%; background-color: var(--secondary); border-radius: 4px 4px 0 0;" id="eveningEnergyBar"></div>
                                <div style="margin-top: 5px; font-size: 0.8rem;">Evening</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weekly Review Card -->
                <div class="card" id="reviewCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-chart-line"></i> Weekly Review</h2>
                        <div class="card-actions">
                            <button class="btn btn-success" id="saveReview">Save</button>
                            <button class="btn btn-primary" id="exportPDF">Export PDF</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="wins">Wins & Achievements</label>
                        <textarea id="wins" placeholder="What went well this week? What progress did you make?"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="losses">Losses & Challenges</label>
                        <textarea id="losses" placeholder="What didn't go well? What obstacles did you face?"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="nextWeekMission">Next Week's Top Mission</label>
                        <input type="text" id="nextWeekMission" placeholder="What's the most important mission for next week?">
                    </div>
                </div>

                <!-- Diary & Notes Card -->
                <div class="card" id="diaryCard">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-book"></i> Diary & Notes</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="saveNotes">Save</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="diaryNotes">Daily Reflections & Insights</label>
                        <textarea id="diaryNotes" placeholder="Write your thoughts, reflections, ideas, or random insights here..." rows="6"></textarea>
                    </div>
                    <div>
                        <h3>AI Motivation Prompt</h3>
                        <div style="background-color: rgba(52, 152, 219, 0.1); padding: 12px; border-radius: var(--border-radius); margin-top: 10px;">
                            <div style="font-style: italic; margin-bottom: 8px; font-size: 0.95rem;" id="aiPrompt">
                                "Success is the sum of small efforts, repeated day in and day out. What's one small step you can take today toward your independence goal?"
                            </div>
                            <button class="btn btn-primary" id="newPrompt" style="font-size: 0.85rem; padding: 6px 12px;">Generate New Prompt</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Add Section -->
        <section id="quickadd-section" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-plus-circle"></i> Quick Add</h2>
                </div>
                <div class="quick-add-form">
                    <p style="margin-bottom: 15px; color: var(--gray);">Quickly add entries without opening individual cards</p>
                    
                    <div class="quick-add-options">
                        <div class="quick-add-option" data-quick-add="mission">
                            <i class="fas fa-bullseye"></i>
                            <div>Daily Mission</div>
                        </div>
                        <div class="quick-add-option" data-quick-add="skill">
                            <i class="fas fa-code"></i>
                            <div>Skill Practice</div>
                        </div>
                        <div class="quick-add-option" data-quick-add="income">
                            <i class="fas fa-money-bill-wave"></i>
                            <div>Income</div>
                        </div>
                        <div class="quick-add-option" data-quick-add="savings">
                            <i class="fas fa-piggy-bank"></i>
                            <div>Savings</div>
                        </div>
                        <div class="quick-add-option" data-quick-add="sleep">
                            <i class="fas fa-bed"></i>
                            <div>Sleep</div>
                        </div>
                        <div class="quick-add-option" data-quick-add="mood">
                            <i class="fas fa-brain"></i>
                            <div>Mood</div>
                        </div>
                    </div>
                    
                    <div id="quickAddForm" style="display: none; margin-top: 20px;">
                        <!-- Dynamic form will be inserted here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section id="stats-section" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-chart-bar"></i> Statistics & Insights</h2>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3><i class="fas fa-code" style="color: var(--secondary);"></i> Skill Practice</h3>
                        <div class="stat-value" id="totalPracticeHours">0 hrs</div>
                        <div class="stat-label">Total practice time this month</div>
                        <div class="chart-container" id="skillStatsChart" style="height: 120px; margin-top: 15px;">
                            <!-- Chart will be generated from real user data -->
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3><i class="fas fa-money-bill-wave" style="color: var(--accent);"></i> Income</h3>
                        <div class="stat-value" id="avgDailyIncome">Ksh 0</div>
                        <div class="stat-label">Average daily income</div>
                        <div class="chart-container" id="incomeStatsChart" style="height: 120px; margin-top: 15px;">
                            <!-- Chart will be generated from real user data -->
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3><i class="fas fa-piggy-bank" style="color: var(--savings);"></i> Savings Progress</h3>
                        <div class="stat-value" id="savingsProgress">0%</div>
                        <div class="stat-label">Toward your goal</div>
                        <div class="progress-bar" style="margin-top: 15px;">
                            <div class="progress-fill" id="statsProgressBar" style="width: 0%"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span id="currentStatsSavings">Ksh 0</span>
                            <span id="goalStatsSavings">Ksh 0</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <h3><i class="fas fa-brain" style="color: var(--warning);"></i> Energy Levels</h3>
                        <div class="stat-value" id="avgEnergy">0/10</div>
                        <div class="stat-label">Average daily energy</div>
                        <div style="display: flex; height: 120px; align-items: flex-end; gap: 5px; margin-top: 15px;">
                            <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                <div style="width: 80%; background-color: var(--accent); border-radius: 4px 4px 0 0;" id="avgMorningEnergyBar"></div>
                                <div style="margin-top: 5px; font-size: 0.8rem;">Morning</div>
                            </div>
                            <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                <div style="width: 80%; background-color: var(--secondary); border-radius: 4px 4px 0 0;" id="avgEveningEnergyBar"></div>
                                <div style="margin-top: 5px; font-size: 0.8rem;">Evening</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-section" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-cog"></i> Settings</h2>
                </div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3 style="margin-bottom: 15px;">Data Management</h3>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Export Data</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Download all your data as JSON</div>
                            </div>
                            <button class="btn btn-primary" id="exportData">Export</button>
                        </div>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Import Data</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Import data from JSON file</div>
                            </div>
                            <button class="btn btn-primary" id="importData">Import</button>
                        </div>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Reset All Data</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Clear all your data (cannot be undone)</div>
                            </div>
                            <button class="btn btn-danger" id="resetData">Reset</button>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3 style="margin-bottom: 15px;">Preferences</h3>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Dark Mode</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Toggle dark/light theme</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="darkModeToggle">
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Morning Reminders</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Get reminders at 8 AM</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="remindersToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Auto-save</div>
                                <div style="font-size: 0.9rem; color: var(--gray);">Save data automatically</div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="autoSaveToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="settings-card">
                        <h3 style="margin-bottom: 15px;">About</h3>
                        <div style="margin-bottom: 15px;">
                            <p><strong>Independence Hub 2026</strong></p>
                            <p style="color: var(--gray); font-size: 0.9rem; margin-top: 5px;">Version 1.0.0</p>
                            <p style="color: var(--gray); font-size: 0.9rem; margin-top: 10px;">Track your progress towards independence in 2026. All data is stored locally in your browser.</p>
                        </div>
                        <div class="settings-option">
                            <div>
                                <div style="font-weight: 600;">Data Storage</div>
                                <div style="font-size: 0.9rem; color: var(--gray);" id="storageUsed">0 KB used</div>
                            </div>
                            <button class="btn btn-primary" id="clearCache">Clear Cache</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <div class="notification-content">
            <h4>Data Saved</h4>
            <p>Your progress has been saved successfully!</p>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="footer-nav">
        <button class="nav-btn active" id="navDashboard" data-section="dashboard-section">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </button>
        <button class="nav-btn" id="navQuickAdd" data-section="quickadd-section">
            <i class="fas fa-plus-circle"></i>
            <span>Quick Add</span>
        </button>
        <button class="nav-btn" id="navStats" data-section="stats-section">
            <i class="fas fa-chart-bar"></i>
            <span>Stats</span>
        </button>
        <button class="nav-btn" id="navSettings" data-section="settings-section">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
        </button>
    </div>

    <script>
        // ====== GLOBAL VARIABLES AND INITIALIZATION ======
        let appData = {
            dailyMission: { task: "", completed: false, status: "missed" },
            skillLog: [],
            incomeLog: [],
            savings: {
                goal: 0,
                current: 0,
                logs: []
            },
            sleepHistory: [],
            socialHistory: [],
            moodHistory: [],
            weeklyReview: { wins: "", losses: "", nextWeekMission: "" },
            diary: ""
        };

        // Cache DOM elements for better performance
        const DOM = {
            // Navigation
            navButtons: document.querySelectorAll('.nav-btn'),
            sections: document.querySelectorAll('.section'),
            
            // Date Display
            currentDate: document.getElementById('currentDate'),
            
            // Mission elements
            missionInput: document.getElementById('missionInput'),
            missionCheckbox: document.getElementById('missionCheckbox'),
            missionText: document.getElementById('missionText'),
            missionStatus: document.getElementById('missionStatus'),
            statusOptions: document.querySelectorAll('.status-option'),
            
            // Skill elements
            skillName: document.getElementById('skillName'),
            skillDuration: document.getElementById('skillDuration'),
            skillNotes: document.getElementById('skillNotes'),
            skillTableBody: document.getElementById('skillTableBody'),
            skillChart: document.getElementById('skillChart'),
            
            // Income elements
            incomeAmount: document.getElementById('incomeAmount'),
            incomeSource: document.getElementById('incomeSource'),
            incomeDate: document.getElementById('incomeDate'),
            incomeToSavings: document.getElementById('incomeToSavings'),
            weeklyIncome: document.getElementById('weeklyIncome'),
            monthlyIncome: document.getElementById('monthlyIncome'),
            totalIncome: document.getElementById('totalIncome'),
            incomeTableBody: document.getElementById('incomeTableBody'),
            incomeChart: document.getElementById('incomeChart'),
            
            // Savings elements
            goalAmount: document.getElementById('goalAmount'),
            currentSavings: document.getElementById('currentSavings'),
            goalDisplay: document.getElementById('goalDisplay'),
            progressPercentage: document.getElementById('progressPercentage'),
            progressBar: document.getElementById('progressBar'),
            savingsAmount: document.getElementById('savingsAmount'),
            savingsNote: document.getElementById('savingsNote'),
            savingsTableBody: document.getElementById('savingsTableBody'),
            
            // Sleep elements
            sleepDate: document.getElementById('sleepDate'),
            bedtime: document.getElementById('bedtime'),
            wakeTime: document.getElementById('wakeTime'),
            qualityOptions: document.querySelectorAll('.quality-option'),
            sleepChart: document.getElementById('sleepChart'),
            
            // Social elements
            socialDate: document.getElementById('socialDate'),
            socialMediaTime: document.getElementById('socialMediaTime'),
            gamingTime: document.getElementById('gamingTime'),
            musicTime: document.getElementById('musicTime'),
            unexpectedSocial: document.getElementById('unexpectedSocial'),
            totalDistraction: document.getElementById('totalDistraction'),
            socialMediaDisplay: document.getElementById('socialMediaDisplay'),
            gamingDisplay: document.getElementById('gamingDisplay'),
            
            // Mood elements
            moodDate: document.getElementById('moodDate'),
            morningEnergy: document.getElementById('morningEnergy'),
            eveningEnergy: document.getElementById('eveningEnergy'),
            moodNotes: document.getElementById('moodNotes'),
            morningEnergyBar: document.getElementById('morningEnergyBar'),
            eveningEnergyBar: document.getElementById('eveningEnergyBar'),
            
            // Review elements
            wins: document.getElementById('wins'),
            losses: document.getElementById('losses'),
            nextWeekMission: document.getElementById('nextWeekMission'),
            
            // Diary elements
            diaryNotes: document.getElementById('diaryNotes'),
            aiPrompt: document.getElementById('aiPrompt'),
            
            // Notification
            notification: document.getElementById('notification'),
            
            // Buttons
            saveMissionBtn: document.getElementById('saveMission'),
            addSkillBtn: document.getElementById('addSkill'),
            addIncomeBtn: document.getElementById('addIncome'),
            setGoalBtn: document.getElementById('setGoal'),
            addSavingsBtn: document.getElementById('addSavings'),
            saveSleepBtn: document.getElementById('saveSleep'),
            saveSocialBtn: document.getElementById('saveSocial'),
            saveMoodBtn: document.getElementById('saveMood'),
            saveReviewBtn: document.getElementById('saveReview'),
            saveNotesBtn: document.getElementById('saveNotes'),
            newPromptBtn: document.getElementById('newPrompt'),
            exportPDFBtn: document.getElementById('exportPDF'),
            themeToggle: document.getElementById('themeToggle'),
            
            // Quick Add
            quickAddOptions: document.querySelectorAll('.quick-add-option'),
            quickAddForm: document.getElementById('quickAddForm'),
            
            // Stats
            totalPracticeHours: document.getElementById('totalPracticeHours'),
            avgDailyIncome: document.getElementById('avgDailyIncome'),
            savingsProgress: document.getElementById('savingsProgress'),
            statsProgressBar: document.getElementById('statsProgressBar'),
            currentStatsSavings: document.getElementById('currentStatsSavings'),
            goalStatsSavings: document.getElementById('goalStatsSavings'),
            avgMorningEnergyBar: document.getElementById('avgMorningEnergyBar'),
            avgEveningEnergyBar: document.getElementById('avgEveningEnergyBar'),
            skillStatsChart: document.getElementById('skillStatsChart'),
            incomeStatsChart: document.getElementById('incomeStatsChart'),
            
            // Settings
            exportDataBtn: document.getElementById('exportData'),
            importDataBtn: document.getElementById('importData'),
            resetDataBtn: document.getElementById('resetData'),
            darkModeToggle: document.getElementById('darkModeToggle'),
            remindersToggle: document.getElementById('remindersToggle'),
            autoSaveToggle: document.getElementById('autoSaveToggle'),
            storageUsed: document.getElementById('storageUsed'),
            clearCacheBtn: document.getElementById('clearCache')
        };

        // AI Motivation Prompts
        const motivationPrompts = [
            "The journey to independence is built day by day. What's one skill you can practice today to move closer to your goal?",
            "Your future self will thank you for the efforts you make today. How can you maximize your productivity in the next hour?",
            "Every shilling saved and earned brings you closer to financial freedom. What's one micro-income opportunity you can pursue today?",
            "Consistency beats intensity. How can you make your most important task today effortless to complete?",
            "Energy management is more important than time management. What can you do to protect your energy today?",
            "Progress is often invisible until it suddenly becomes undeniable. What small step can you take today?",
            "The quality of your sleep determines the quality of your day. How can you improve your sleep tonight?",
            "Distractions are the enemy of independence. What's one distraction you can eliminate today?",
            "Your environment shapes your behavior. How can you optimize your workspace for focus today?",
            "Reviewing your progress weekly builds momentum. What's one win from this week that you can celebrate?"
        ];

        // ====== UTILITY FUNCTIONS ======
        
        // Simple throttle function for performance
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            };
        }

        // Format date to display
        function formatDate(date) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        
        // Get current date in YYYY-MM-DD format
        function getCurrentDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }
        
        // Format currency in Ksh
        function formatCurrency(amount) {
            return `Ksh ${amount.toLocaleString('en-KE')}`;
        }
        
        // Show notification
        function showNotification(message, type = 'success') {
            const title = type === 'success' ? 'Data Saved' : type === 'error' ? 'Error' : 'Notification';
            const icon = type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle';
            
            DOM.notification.querySelector('i').className = `fas ${icon}`;
            DOM.notification.querySelector('h4').textContent = title;
            DOM.notification.querySelector('p').textContent = message;
            
            DOM.notification.classList.add('show');
            
            setTimeout(() => {
                DOM.notification.classList.remove('show');
            }, 3000);
        }
        
        // Generate a random AI prompt
        function generateAIPrompt() {
            const randomIndex = Math.floor(Math.random() * motivationPrompts.length);
            DOM.aiPrompt.textContent = `"${motivationPrompts[randomIndex]}"`;
        }
        
        // Create energy rating points
        function createEnergyRating(container, currentValue, type) {
            container.innerHTML = '';
            for (let i = 1; i <= 10; i++) {
                const point = document.createElement('div');
                point.className = 'energy-point';
                if (i <= currentValue) {
                    if (i <= 3) point.classList.add('low');
                    else if (i <= 7) point.classList.add('medium');
                    else point.classList.add('high');
                    point.classList.add('active');
                }
                point.dataset.value = i;
                point.addEventListener('click', () => {
                    // Update all points up to this value
                    const points = container.querySelectorAll('.energy-point');
                    points.forEach((p, index) => {
                        const value = index + 1;
                        p.classList.remove('active', 'low', 'medium', 'high');
                        if (value <= i) {
                            p.classList.add('active');
                            if (value <= 3) p.classList.add('low');
                            else if (value <= 7) p.classList.add('medium');
                            else p.classList.add('high');
                        }
                    });
                    
                    // Update data
                    if (type === 'morning') {
                        appData.moodEnergy.morning = i;
                    } else {
                        appData.moodEnergy.evening = i;
                    }
                    
                    saveToLocalStorage();
                    updateStats();
                });
                container.appendChild(point);
            }
        }
        
        // Update income totals
        function updateIncomeTotals() {
            const today = new Date();
            const oneWeekAgo = new Date(today);
            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
            
            const oneMonthAgo = new Date(today);
            oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
            
            let weeklyTotal = 0;
            let monthlyTotal = 0;
            let total = 0;
            
            appData.incomeLog.forEach(entry => {
                const entryDate = new Date(entry.date);
                const amount = entry.amount || 0;
                
                total += amount;
                if (entryDate >= oneMonthAgo) monthlyTotal += amount;
                if (entryDate >= oneWeekAgo) weeklyTotal += amount;
            });
            
            DOM.weeklyIncome.textContent = formatCurrency(weeklyTotal);
            DOM.monthlyIncome.textContent = formatCurrency(monthlyTotal);
            DOM.totalIncome.textContent = formatCurrency(total);
        }
        
        // Update savings display
        function updateSavingsDisplay() {
            DOM.currentSavings.textContent = formatCurrency(appData.savings.current);
            DOM.goalDisplay.textContent = formatCurrency(appData.savings.goal);
            
            let progressPercentage = 0;
            if (appData.savings.goal > 0) {
                progressPercentage = Math.min(100, (appData.savings.current / appData.savings.goal) * 100);
            }
            
            DOM.progressPercentage.textContent = `${progressPercentage.toFixed(1)}%`;
            DOM.progressBar.style.width = `${progressPercentage}%`;
        }
        
        // Update distraction totals
        function updateDistractionTotals() {
            const social = parseInt(DOM.socialMediaTime.value) || 0;
            const gaming = parseInt(DOM.gamingTime.value) || 0;
            const music = parseInt(DOM.musicTime.value) || 0;
            const total = social + gaming + music;
            
            DOM.totalDistraction.textContent = `${total} min`;
            DOM.socialMediaDisplay.textContent = `${social} min`;
            DOM.gamingDisplay.textContent = `${gaming} min`;
        }
        
        // Update skill table
        function updateSkillTable() {
            DOM.skillTableBody.innerHTML = '';
            
            // Show last 5 entries
            const recentSkills = appData.skillLog.slice(-5).reverse();
            
            recentSkills.forEach(skill => {
                const row = document.createElement('tr');
                
                const dateCell = document.createElement('td');
                dateCell.textContent = skill.date;
                
                const skillCell = document.createElement('td');
                skillCell.textContent = skill.name;
                
                const durationCell = document.createElement('td');
                durationCell.textContent = `${skill.duration} min`;
                
                row.appendChild(dateCell);
                row.appendChild(skillCell);
                row.appendChild(durationCell);
                DOM.skillTableBody.appendChild(row);
            });
        }
        
        // Update income table
        function updateIncomeTable() {
            DOM.incomeTableBody.innerHTML = '';
            
            // Show last 5 entries
            const recentIncome = appData.incomeLog.slice(-5).reverse();
            
            recentIncome.forEach(income => {
                const row = document.createElement('tr');
                
                const dateCell = document.createElement('td');
                dateCell.textContent = income.date;
                
                const sourceCell = document.createElement('td');
                sourceCell.textContent = income.source;
                
                const amountCell = document.createElement('td');
                amountCell.textContent = formatCurrency(income.amount);
                
                row.appendChild(dateCell);
                row.appendChild(sourceCell);
                row.appendChild(amountCell);
                DOM.incomeTableBody.appendChild(row);
            });
        }
        
        // Update savings table
        function updateSavingsTable() {
            DOM.savingsTableBody.innerHTML = '';
            
            // Show last 5 entries
            const recentSavings = appData.savings.logs.slice(-5).reverse();
            
            recentSavings.forEach(saving => {
                const row = document.createElement('tr');
                
                const dateCell = document.createElement('td');
                dateCell.textContent = saving.date;
                
                const noteCell = document.createElement('td');
                noteCell.textContent = saving.note || 'No note';
                
                const amountCell = document.createElement('td');
                amountCell.textContent = formatCurrency(saving.amount);
                
                row.appendChild(dateCell);
                row.appendChild(noteCell);
                row.appendChild(amountCell);
                DOM.savingsTableBody.appendChild(row);
            });
        }
        
        // ====== REAL DATA CHARTS ======
        
        // Create skill practice chart from REAL user data
        function createSkillChart() {
            DOM.skillChart.innerHTML = '';
            
            if (appData.skillLog.length === 0) {
                DOM.skillChart.innerHTML = '<div style="text-align: center; color: var(--gray); padding: 40px 0;">No skill data yet. Start practicing!</div>';
                return;
            }
            
            // Group skill data by date
            const skillByDate = {};
            appData.skillLog.forEach(skill => {
                if (!skillByDate[skill.date]) {
                    skillByDate[skill.date] = 0;
                }
                skillByDate[skill.date] += skill.duration;
            });
            
            // Get last 7 days
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
            }
            
            // Create chart
            dates.forEach(date => {
                const minutes = skillByDate[date] || 0;
                const barHeight = minutes > 0 ? Math.min(100, (minutes / 180) * 100) : 5;
                
                const barContainer = document.createElement('div');
                barContainer.style.cssText = `height: 100%; display: flex; flex-direction: column; justify-content: flex-end;`;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${barHeight}%`;
                bar.style.backgroundColor = minutes > 0 ? `hsl(${Math.floor(minutes / 180 * 120)}, 70%, 50%)` : '#ddd';
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = new Date(date).toLocaleDateString('en-US', { weekday: 'short' });
                
                barContainer.appendChild(bar);
                barContainer.appendChild(label);
                DOM.skillChart.appendChild(barContainer);
            });
        }
        
        // Create income chart from REAL user data
        function createIncomeChart() {
            DOM.incomeChart.innerHTML = '';
            
            if (appData.incomeLog.length === 0) {
                DOM.incomeChart.innerHTML = '<div style="text-align: center; color: var(--gray); padding: 40px 0;">No income data yet. Start tracking!</div>';
                return;
            }
            
            // Group income by date
            const incomeByDate = {};
            appData.incomeLog.forEach(income => {
                if (!incomeByDate[income.date]) {
                    incomeByDate[income.date] = 0;
                }
                incomeByDate[income.date] += income.amount;
            });
            
            // Get last 7 days
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
            }
            
            // Find max income for scaling
            let maxIncome = 0;
            dates.forEach(date => {
                if (incomeByDate[date] > maxIncome) maxIncome = incomeByDate[date];
            });
            
            // Create chart
            dates.forEach(date => {
                const amount = incomeByDate[date] || 0;
                const barHeight = amount > 0 ? Math.min(100, (amount / Math.max(maxIncome, 1)) * 100) : 5;
                
                const barContainer = document.createElement('div');
                barContainer.style.cssText = `height: 100%; display: flex; flex-direction: column; justify-content: flex-end;`;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${barHeight}%`;
                bar.style.backgroundColor = amount > 0 ? `hsl(${Math.floor(amount / Math.max(maxIncome, 1) * 120)}, 70%, 50%)` : '#ddd';
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = new Date(date).toLocaleDateString('en-US', { weekday: 'short' });
                
                barContainer.appendChild(bar);
                barContainer.appendChild(label);
                DOM.incomeChart.appendChild(barContainer);
            });
        }
        
        // Create sleep chart from REAL user data
        function createSleepChart() {
            DOM.sleepChart.innerHTML = '';
            
            if (appData.sleepHistory.length === 0) {
                DOM.sleepChart.innerHTML = '<div style="text-align: center; color: var(--gray); padding: 40px 0;">No sleep data yet. Start tracking!</div>';
                return;
            }
            
            // Get last 7 days
            const dates = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
            }
            
            // Create chart
            dates.forEach(date => {
                const sleepEntry = appData.sleepHistory.find(entry => entry.date === date);
                
                let barHeight, barColor;
                if (sleepEntry) {
                    switch(sleepEntry.quality) {
                        case 'good': barHeight = 90; barColor = 'var(--accent)'; break;
                        case 'medium': barHeight = 60; barColor = 'var(--warning)'; break;
                        case 'poor': barHeight = 30; barColor = 'var(--danger)'; break;
                        default: barHeight = 5; barColor = '#ddd';
                    }
                } else {
                    barHeight = 5;
                    barColor = '#ddd';
                }
                
                const barContainer = document.createElement('div');
                barContainer.style.cssText = `height: 100%; display: flex; flex-direction: column; justify-content: flex-end;`;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${barHeight}%`;
                bar.style.backgroundColor = barColor;
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = new Date(date).toLocaleDateString('en-US', { weekday: 'short' });
                
                barContainer.appendChild(bar);
                barContainer.appendChild(label);
                DOM.sleepChart.appendChild(barContainer);
            });
        }
        
        // ====== NAVIGATION FUNCTIONS ======
        
        // Switch between sections
        function switchSection(sectionId) {
            // Hide all sections
            DOM.sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.classList.add('active');
                
                // Update stats if switching to stats section
                if (sectionId === 'stats-section') {
                    updateStats();
                }
            }
            
            // Update active nav button
            DOM.navButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.section === sectionId) {
                    btn.classList.add('active');
                }
            });
        }
        
        // ====== QUICK ADD FUNCTIONS ======
        
        // Show quick add form based on selection
        function showQuickAddForm(type) {
            DOM.quickAddForm.style.display = 'block';
            DOM.quickAddForm.innerHTML = '';
            
            let formHTML = '';
            
            switch(type) {
                case 'mission':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickMissionInput">Daily Mission</label>
                            <input type="text" id="quickMissionInput" placeholder="Enter your most important task">
                        </div>
                        <div class="form-group">
                            <label>Status</label>
                            <select id="quickMissionStatus" style="width: 100%;">
                                <option value="missed">Not Started</option>
                                <option value="partial">In Progress</option>
                                <option value="done">Completed</option>
                            </select>
                        </div>
                        <button class="btn btn-success" id="saveQuickMission" style="width: 100%;">Save Mission</button>
                    `;
                    break;
                    
                case 'skill':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickSkillName">Skill</label>
                            <input type="text" id="quickSkillName" value="Web Design">
                        </div>
                        <div class="form-group">
                            <label for="quickSkillDuration">Duration (minutes)</label>
                            <input type="number" id="quickSkillDuration" min="1" value="30">
                        </div>
                        <button class="btn btn-success" id="saveQuickSkill" style="width: 100%;">Log Practice</button>
                    `;
                    break;
                    
                case 'income':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickIncomeAmount">Amount (Ksh)</label>
                            <input type="number" id="quickIncomeAmount" min="0" step="100" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="quickIncomeSource">Source</label>
                            <input type="text" id="quickIncomeSource" placeholder="Freelance, Side hustle, etc.">
                        </div>
                        <button class="btn btn-success" id="saveQuickIncome" style="width: 100%;">Add Income</button>
                    `;
                    break;
                    
                case 'savings':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickSavingsAmount">Amount (Ksh)</label>
                            <input type="number" id="quickSavingsAmount" min="0" step="100" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="quickSavingsNote">Note (optional)</label>
                            <input type="text" id="quickSavingsNote" placeholder="e.g., Emergency fund">
                        </div>
                        <button class="btn btn-success" id="saveQuickSavings" style="width: 100%;">Add to Savings</button>
                    `;
                    break;
                    
                case 'sleep':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickSleepDate">Date</label>
                            <input type="date" id="quickSleepDate" value="${getCurrentDate()}">
                        </div>
                        <div class="input-group">
                            <div class="form-group" style="flex: 1;">
                                <label for="quickBedtime">Bedtime</label>
                                <input type="time" id="quickBedtime" value="23:00">
                            </div>
                            <div class="form-group" style="flex: 1;">
                                <label for="quickWakeTime">Wake Time</label>
                                <input type="time" id="quickWakeTime" value="07:00">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Sleep Quality</label>
                            <select id="quickSleepQuality" style="width: 100%;">
                                <option value="good">Good</option>
                                <option value="medium">Medium</option>
                                <option value="poor">Poor</option>
                            </select>
                        </div>
                        <button class="btn btn-success" id="saveQuickSleep" style="width: 100%;">Save Sleep</button>
                    `;
                    break;
                    
                case 'mood':
                    formHTML = `
                        <div class="form-group">
                            <label for="quickMoodDate">Date</label>
                            <input type="date" id="quickMoodDate" value="${getCurrentDate()}">
                        </div>
                        <div class="form-group">
                            <label for="quickMoodMorning">Morning Energy (1-10)</label>
                            <input type="range" id="quickMoodMorning" min="1" max="10" value="5" style="width: 100%;">
                            <div style="text-align: center; margin-top: 5px;" id="quickMoodMorningValue">5</div>
                        </div>
                        <div class="form-group">
                            <label for="quickMoodEvening">Evening Energy (1-10)</label>
                            <input type="range" id="quickMoodEvening" min="1" max="10" value="5" style="width: 100%;">
                            <div style="text-align: center; margin-top: 5px;" id="quickMoodEveningValue">5</div>
                        </div>
                        <button class="btn btn-success" id="saveQuickMood" style="width: 100%;">Save Mood</button>
                    `;
                    break;
            }
            
            DOM.quickAddForm.innerHTML = formHTML;
            
            // Add event listeners for dynamic form
            if (type === 'mood') {
                document.getElementById('quickMoodMorning').addEventListener('input', function() {
                    document.getElementById('quickMoodMorningValue').textContent = this.value;
                });
                document.getElementById('quickMoodEvening').addEventListener('input', function() {
                    document.getElementById('quickMoodEveningValue').textContent = this.value;
                });
            }
            
            // Add save handlers
            switch(type) {
                case 'mission':
                    document.getElementById('saveQuickMission').addEventListener('click', saveQuickMission);
                    break;
                case 'skill':
                    document.getElementById('saveQuickSkill').addEventListener('click', saveQuickSkill);
                    break;
                case 'income':
                    document.getElementById('saveQuickIncome').addEventListener('click', saveQuickIncome);
                    break;
                case 'savings':
                    document.getElementById('saveQuickSavings').addEventListener('click', saveQuickSavings);
                    break;
                case 'sleep':
                    document.getElementById('saveQuickSleep').addEventListener('click', saveQuickSleep);
                    break;
                case 'mood':
                    document.getElementById('saveQuickMood').addEventListener('click', saveQuickMood);
                    break;
            }
        }
        
        // Quick add save functions
        function saveQuickMission() {
            const task = document.getElementById('quickMissionInput').value.trim();
            const status = document.getElementById('quickMissionStatus').value;
            
            if (task) {
                appData.dailyMission.task = task;
                appData.dailyMission.status = status;
                appData.dailyMission.completed = status === 'done';
                
                // Update main form
                DOM.missionInput.value = task;
                DOM.missionStatus.textContent = status.charAt(0).toUpperCase() + status.slice(1);
                DOM.missionStatus.className = `mission-status status-${status}`;
                DOM.missionText.textContent = task;
                DOM.missionCheckbox.checked = status === 'done';
                
                saveToLocalStorage();
                showNotification('Mission saved via Quick Add!');
                
                // Clear form
                DOM.quickAddForm.style.display = 'none';
            } else {
                showNotification('Please enter a mission', 'error');
            }
        }
        
        function saveQuickSkill() {
            const name = document.getElementById('quickSkillName').value.trim();
            const duration = parseInt(document.getElementById('quickSkillDuration').value);
            
            if (name && duration > 0) {
                const newSkill = {
                    date: getCurrentDate(),
                    name: name,
                    duration: duration,
                    notes: "Added via Quick Add"
                };
                
                appData.skillLog.push(newSkill);
                updateSkillTable();
                createSkillChart();
                saveToLocalStorage();
                showNotification('Skill practice logged via Quick Add!');
                
                // Clear form
                DOM.quickAddForm.style.display = 'none';
            } else {
                showNotification('Please enter skill name and duration', 'error');
            }
        }
        
        function saveQuickIncome() {
            const amount = parseFloat(document.getElementById('quickIncomeAmount').value);
            const source = document.getElementById('quickIncomeSource').value.trim();
            
            if (amount > 0 && source) {
                const newIncome = {
                    date: getCurrentDate(),
                    source: source,
                    amount: amount
                };
                
                appData.incomeLog.push(newIncome);
                updateIncomeTable();
                updateIncomeTotals();
                createIncomeChart();
                saveToLocalStorage();
                showNotification('Income logged via Quick Add!');
                
                // Clear form
                DOM.quickAddForm.style.display = 'none';
            } else {
                showNotification('Please enter amount and source', 'error');
            }
        }
        
        function saveQuickSavings() {
            const amount = parseFloat(document.getElementById('quickSavingsAmount').value) || 0;
            const note = document.getElementById('quickSavingsNote').value.trim();
            
            if (amount > 0) {
                appData.savings.current += amount;
                appData.savings.logs.push({
                    date: getCurrentDate(),
                    amount: amount,
                    note: note || 'Quick Add deposit'
                });
                
                updateSavingsDisplay();
                updateSavingsTable();
                saveToLocalStorage();
                showNotification('Savings added via Quick Add!');
                
                // Clear form
                DOM.quickAddForm.style.display = 'none';
            } else {
                showNotification('Please enter an amount to save', 'error');
            }
        }
        
        function saveQuickSleep() {
            const date = document.getElementById('quickSleepDate').value;
            const bedtime = document.getElementById('quickBedtime').value;
            const wakeTime = document.getElementById('quickWakeTime').value;
            const quality = document.getElementById('quickSleepQuality').value;
            
            const newSleep = {
                date: date,
                bedtime: bedtime,
                wakeTime: wakeTime,
                quality: quality
            };
            
            // Check if entry exists for this date
            const existingIndex = appData.sleepHistory.findIndex(entry => entry.date === date);
            if (existingIndex >= 0) {
                appData.sleepHistory[existingIndex] = newSleep;
            } else {
                appData.sleepHistory.push(newSleep);
            }
            
            createSleepChart();
            saveToLocalStorage();
            showNotification('Sleep data saved via Quick Add!');
            
            // Clear form
            DOM.quickAddForm.style.display = 'none';
        }
        
        function saveQuickMood() {
            const date = document.getElementById('quickMoodDate').value;
            const morning = parseInt(document.getElementById('quickMoodMorning').value);
            const evening = parseInt(document.getElementById('quickMoodEvening').value);
            
            const newMood = {
                date: date,
                morning: morning,
                evening: evening,
                notes: "Added via Quick Add"
            };
            
            // Check if entry exists for this date
            const existingIndex = appData.moodHistory.findIndex(entry => entry.date === date);
            if (existingIndex >= 0) {
                appData.moodHistory[existingIndex] = newMood;
            } else {
                appData.moodHistory.push(newMood);
            }
            
            saveToLocalStorage();
            showNotification('Mood saved via Quick Add!');
            
            // Clear form
            DOM.quickAddForm.style.display = 'none';
        }
        
        // ====== STATS FUNCTIONS ======
        
        // Update stats display with REAL data
        function updateStats() {
            // Skill practice stats - REAL data only
            const today = new Date();
            const oneMonthAgo = new Date(today);
            oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
            
            let totalMinutes = 0;
            appData.skillLog.forEach(skill => {
                const skillDate = new Date(skill.date);
                if (skillDate >= oneMonthAgo) {
                    totalMinutes += skill.duration || 0;
                }
            });
            
            const totalHours = (totalMinutes / 60).toFixed(1);
            DOM.totalPracticeHours.textContent = `${totalHours} hrs`;
            
            // Create skill stats chart from REAL data
            createSkillStatsChart();
            
            // Income stats - REAL data only
            let totalIncome = 0;
            let incomeDays = 0;
            const incomeByDay = {};
            
            appData.incomeLog.forEach(income => {
                totalIncome += income.amount || 0;
                if (income.date) {
                    if (!incomeByDay[income.date]) {
                        incomeByDay[income.date] = 0;
                        incomeDays++;
                    }
                    incomeByDay[income.date] += income.amount || 0;
                }
            });
            
            const avgDailyIncome = incomeDays > 0 ? totalIncome / incomeDays : 0;
            DOM.avgDailyIncome.textContent = formatCurrency(Math.round(avgDailyIncome));
            
            // Create income stats chart from REAL data
            createIncomeStatsChart();
            
            // Savings stats - REAL data only
            let savingsProgress = 0;
            if (appData.savings.goal > 0) {
                savingsProgress = Math.min(100, (appData.savings.current / appData.savings.goal) * 100);
            }
            
            DOM.savingsProgress.textContent = `${savingsProgress.toFixed(1)}%`;
            DOM.statsProgressBar.style.width = `${savingsProgress}%`;
            DOM.currentStatsSavings.textContent = formatCurrency(appData.savings.current);
            DOM.goalStatsSavings.textContent = formatCurrency(appData.savings.goal);
            
            // Energy stats - REAL data only
            let totalMorning = 0;
            let totalEvening = 0;
            let moodCount = 0;
            
            appData.moodHistory.forEach(mood => {
                totalMorning += mood.morning || 0;
                totalEvening += mood.evening || 0;
                moodCount++;
            });
            
            const avgMorning = moodCount > 0 ? totalMorning / moodCount : 0;
            const avgEvening = moodCount > 0 ? totalEvening / moodCount : 0;
            
            DOM.avgEnergy.textContent = `${((avgMorning + avgEvening) / 2).toFixed(1)}/10`;
            DOM.avgMorningEnergyBar.style.height = `${avgMorning * 10}%`;
            DOM.avgEveningEnergyBar.style.height = `${avgEvening * 10}%`;
        }
        
        // Create skill stats chart from REAL data
        function createSkillStatsChart() {
            DOM.skillStatsChart.innerHTML = '';
            
            if (appData.skillLog.length === 0) {
                DOM.skillStatsChart.innerHTML = '<div style="text-align: center; color: var(--gray); padding: 20px 0;">No data yet</div>';
                return;
            }
            
            // Group by day of week
            const dayTotals = [0, 0, 0, 0, 0, 0, 0]; // Sunday to Saturday
            
            appData.skillLog.forEach(skill => {
                const date = new Date(skill.date);
                const dayOfWeek = date.getDay(); // 0 = Sunday, 6 = Saturday
                dayTotals[dayOfWeek] += skill.duration || 0;
            });
            
            const maxValue = Math.max(...dayTotals, 1);
            const dayLabels = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
            dayTotals.forEach((value, index) => {
                const barHeight = maxValue > 0 ? (value / maxValue) * 100 : 5;
                
                const barContainer = document.createElement('div');
                barContainer.style.cssText = `height: 100%; display: flex; flex-direction: column; justify-content: flex-end;`;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${barHeight}%`;
                bar.style.backgroundColor = value > 0 ? 'var(--secondary)' : '#ddd';
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = dayLabels[index];
                
                barContainer.appendChild(bar);
                barContainer.appendChild(label);
                DOM.skillStatsChart.appendChild(barContainer);
            });
        }
        
        // Create income stats chart from REAL data
        function createIncomeStatsChart() {
            DOM.incomeStatsChart.innerHTML = '';
            
            if (appData.incomeLog.length === 0) {
                DOM.incomeStatsChart.innerHTML = '<div style="text-align: center; color: var(--gray); padding: 20px 0;">No data yet</div>';
                return;
            }
            
            // Get last 7 days
            const dates = [];
            const amounts = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                dates.push(dateStr);
                
                // Calculate total for this day
                let dayTotal = 0;
                appData.incomeLog.forEach(income => {
                    if (income.date === dateStr) {
                        dayTotal += income.amount || 0;
                    }
                });
                amounts.push(dayTotal);
            }
            
            const maxValue = Math.max(...amounts, 1);
            const dayLabels = dates.map(date => new Date(date).toLocaleDateString('en-US', { weekday: 'short' }));
            
            amounts.forEach((value, index) => {
                const barHeight = maxValue > 0 ? (value / maxValue) * 100 : 5;
                
                const barContainer = document.createElement('div');
                barContainer.style.cssText = `height: 100%; display: flex; flex-direction: column; justify-content: flex-end;`;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${barHeight}%`;
                bar.style.backgroundColor = value > 0 ? 'var(--accent)' : '#ddd';
                
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = dayLabels[index];
                
                barContainer.appendChild(bar);
                barContainer.appendChild(label);
                DOM.incomeStatsChart.appendChild(barContainer);
            });
        }
        
        // ====== SETTINGS FUNCTIONS ======
        
        // Export data
        function exportData() {
            const dataStr = JSON.stringify(appData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `independence-hub-data-${getCurrentDate()}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('Data exported successfully!');
        }
        
        // Import data
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(event) {
                const file = event.target.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        appData = importedData;
                        saveToLocalStorage();
                        initializeApp();
                        showNotification('Data imported successfully!');
                    } catch (error) {
                        showNotification('Error importing data. Invalid file format.', 'error');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }
        
        // Reset data
        function resetData() {
            if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                appData = {
                    dailyMission: { task: "", completed: false, status: "missed" },
                    skillLog: [],
                    incomeLog: [],
                    savings: {
                        goal: 0,
                        current: 0,
                        logs: []
                    },
                    sleepHistory: [],
                    socialHistory: [],
                    moodHistory: [],
                    weeklyReview: { wins: "", losses: "", nextWeekMission: "" },
                    diary: ""
                };
                
                saveToLocalStorage();
                initializeApp();
                showNotification('All data has been reset.');
            }
        }
        
        // Update storage display
        function updateStorageDisplay() {
            try {
                const total = JSON.stringify(localStorage).length;
                const kb = (total / 1024).toFixed(2);
                DOM.storageUsed.textContent = `${kb} KB used`;
            } catch (e) {
                DOM.storageUsed.textContent = 'Unknown';
            }
        }
        
        // Clear cache
        function clearCache() {
            if (confirm('Clear all cached data? This will not delete your saved progress.')) {
                // Clear non-essential localStorage items
                const keysToKeep = ['independenceHubData', 'lastReminderDate', 'darkMode'];
                
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (!keysToKeep.includes(key)) {
                        localStorage.removeItem(key);
                    }
                }
                
                showNotification('Cache cleared successfully!');
                updateStorageDisplay();
            }
        }
        
        // ====== DATA PERSISTENCE FUNCTIONS ======
        
        // Save data to localStorage
        function saveToLocalStorage() {
            try {
                localStorage.setItem('independenceHubData', JSON.stringify(appData));
                updateStorageDisplay();
                return true;
            } catch (e) {
                console.error('Error saving to localStorage:', e);
                return false;
            }
        }
        
        // Load data from localStorage
        function loadFromLocalStorage() {
            try {
                const savedData = localStorage.getItem('independenceHubData');
                if (savedData) {
                    appData = JSON.parse(savedData);
                    return true;
                }
            } catch (e) {
                console.error('Error loading from localStorage:', e);
            }
            return false;
        }
        
        // Initialize app with saved data or defaults
        function initializeApp() {
            // Set current date
            const today = new Date();
            DOM.currentDate.textContent = formatDate(today);
            
            // Set default dates to today
            DOM.incomeDate.value = getCurrentDate();
            DOM.sleepDate.value = getCurrentDate();
            DOM.socialDate.value = getCurrentDate();
            DOM.moodDate.value = getCurrentDate();
            
            // Load saved data
            const hasSavedData = loadFromLocalStorage();
            
            if (hasSavedData) {
                // Update UI with saved data
                DOM.missionInput.value = appData.dailyMission.task;
                DOM.missionCheckbox.checked = appData.dailyMission.completed;
                DOM.missionText.textContent = appData.dailyMission.task || "No mission set for today";
                DOM.missionStatus.textContent = appData.dailyMission.status.charAt(0).toUpperCase() + appData.dailyMission.status.slice(1);
                DOM.missionStatus.className = `mission-status status-${appData.dailyMission.status}`;
                
                // Update status options
                DOM.statusOptions.forEach(option => {
                    if (option.dataset.status === appData.dailyMission.status) {
                        option.style.fontWeight = 'bold';
                    }
                });
                
                // Update skill log
                updateSkillTable();
                
                // Update income data
                updateIncomeTable();
                updateIncomeTotals();
                
                // Update savings data
                DOM.goalAmount.value = appData.savings.goal || '';
                updateSavingsDisplay();
                updateSavingsTable();
                
                // Update sleep tracker - show today's entry if exists
                const todaySleep = appData.sleepHistory.find(entry => entry.date === getCurrentDate());
                if (todaySleep) {
                    DOM.bedtime.value = todaySleep.bedtime || '23:00';
                    DOM.wakeTime.value = todaySleep.wakeTime || '07:00';
                    DOM.qualityOptions.forEach(option => {
                        if (option.dataset.quality === todaySleep.quality) {
                            option.classList.add('selected');
                        }
                    });
                }
                
                // Update social log - show today's entry if exists
                const todaySocial = appData.socialHistory.find(entry => entry.date === getCurrentDate());
                if (todaySocial) {
                    DOM.socialMediaTime.value = todaySocial.socialMedia || 0;
                    DOM.gamingTime.value = todaySocial.gaming || 0;
                    DOM.musicTime.value = todaySocial.music || 0;
                    DOM.unexpectedSocial.value = todaySocial.unexpectedSocial || '';
                }
                updateDistractionTotals();
                
                // Update mood & energy - show today's entry if exists
                const todayMood = appData.moodHistory.find(entry => entry.date === getCurrentDate());
                if (todayMood) {
                    createEnergyRating(DOM.morningEnergy, todayMood.morning || 5, 'morning');
                    createEnergyRating(DOM.eveningEnergy, todayMood.evening || 5, 'evening');
                    DOM.moodNotes.value = todayMood.notes || '';
                    DOM.morningEnergyBar.style.height = `${(todayMood.morning || 5) * 10}%`;
                    DOM.eveningEnergyBar.style.height = `${(todayMood.evening || 5) * 10}%`;
                } else {
                    createEnergyRating(DOM.morningEnergy, 5, 'morning');
                    createEnergyRating(DOM.eveningEnergy, 5, 'evening');
                }
                
                // Update weekly review
                DOM.wins.value = appData.weeklyReview.wins;
                DOM.losses.value = appData.weeklyReview.losses;
                DOM.nextWeekMission.value = appData.weeklyReview.nextWeekMission;
                
                // Update diary
                DOM.diaryNotes.value = appData.diary;
                
                showNotification('Data loaded successfully!');
            } else {
                // Initialize with NO sample data - completely empty
                createEnergyRating(DOM.morningEnergy, 5, 'morning');
                createEnergyRating(DOM.eveningEnergy, 5, 'evening');
                updateDistractionTotals();
                
                // Empty arrays - no sample data
                appData.skillLog = [];
                appData.incomeLog = [];
                appData.savings = {
                    goal: 0,
                    current: 0,
                    logs: []
                };
                appData.sleepHistory = [];
                appData.socialHistory = [];
                appData.moodHistory = [];
                
                updateSkillTable();
                updateIncomeTable();
                updateIncomeTotals();
                updateSavingsDisplay();
                updateSavingsTable();
                
                // Create empty charts
                createSkillChart();
                createIncomeChart();
                createSleepChart();
                
                showNotification('Welcome to Independence Hub 2026! Start tracking your journey to independence.');
            }
            
            // Generate initial AI prompt
            generateAIPrompt();
            
            // Update storage display
            updateStorageDisplay();
            
            // Update stats
            updateStats();
        }
        
        // ====== EVENT LISTENERS ======
        
        // Navigation Events
        DOM.navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const sectionId = button.dataset.section;
                switchSection(sectionId);
            });
        });
        
        // Daily Mission Events
        DOM.saveMissionBtn.addEventListener('click', () => {
            const task = DOM.missionInput.value.trim();
            if (task) {
                appData.dailyMission.task = task;
                appData.dailyMission.completed = DOM.missionCheckbox.checked;
                DOM.missionText.textContent = task;
                DOM.missionCheckbox.checked = appData.dailyMission.completed;
                
                if (saveToLocalStorage()) {
                    showNotification('Daily mission saved successfully!');
                }
            } else {
                showNotification('Please enter a mission for today.', 'error');
            }
        });
        
        DOM.missionCheckbox.addEventListener('change', () => {
            appData.dailyMission.completed = DOM.missionCheckbox.checked;
            if (DOM.missionCheckbox.checked) {
                DOM.missionStatus.textContent = 'Done';
                DOM.missionStatus.className = 'mission-status status-done';
                appData.dailyMission.status = 'done';
            } else {
                DOM.missionStatus.textContent = 'Not Started';
                DOM.missionStatus.className = 'mission-status status-missed';
                appData.dailyMission.status = 'missed';
            }
            saveToLocalStorage();
        });
        
        DOM.statusOptions.forEach(option => {
            option.addEventListener('click', () => {
                const status = option.dataset.status;
                appData.dailyMission.status = status;
                DOM.missionStatus.textContent = status.charAt(0).toUpperCase() + status.slice(1);
                DOM.missionStatus.className = `mission-status status-${status}`;
                
                // Update checkbox based on status
                DOM.missionCheckbox.checked = status === 'done';
                appData.dailyMission.completed = status === 'done';
                
                // Update UI for status options
                DOM.statusOptions.forEach(opt => opt.style.fontWeight = 'normal');
                option.style.fontWeight = 'bold';
                
                if (saveToLocalStorage()) {
                    showNotification(`Mission status updated to ${status}`);
                }
            });
        });
        
        // Skill Practice Events
        DOM.addSkillBtn.addEventListener('click', () => {
            const name = DOM.skillName.value.trim();
            const duration = parseInt(DOM.skillDuration.value);
            const notes = DOM.skillNotes.value.trim();
            
            if (name && duration > 0) {
                const newSkill = {
                    date: getCurrentDate(),
                    name: name,
                    duration: duration,
                    notes: notes
                };
                
                appData.skillLog.push(newSkill);
                updateSkillTable();
                createSkillChart();
                DOM.skillNotes.value = '';
                DOM.skillDuration.value = '30';
                
                if (saveToLocalStorage()) {
                    showNotification('Skill practice logged successfully!');
                    updateStats();
                }
            } else {
                showNotification('Please enter skill name and duration.', 'error');
            }
        });
        
        // Income Tracker Events
        DOM.addIncomeBtn.addEventListener('click', () => {
            const amount = parseFloat(DOM.incomeAmount.value);
            const source = DOM.incomeSource.value.trim();
            const date = DOM.incomeDate.value;
            const toSavings = parseFloat(DOM.incomeToSavings.value) || 0;
            
            if (amount > 0 && source && date) {
                const newIncome = {
                    date: date,
                    source: source,
                    amount: amount
                };
                
                appData.incomeLog.push(newIncome);
                updateIncomeTable();
                updateIncomeTotals();
                createIncomeChart();
                
                // Add to savings if specified
                if (toSavings > 0) {
                    appData.savings.current += toSavings;
                    appData.savings.logs.push({
                        date: date,
                        amount: toSavings,
                        note: `From income: ${source}`
                    });
                    updateSavingsDisplay();
                    updateSavingsTable();
                }
                
                DOM.incomeAmount.value = '';
                DOM.incomeSource.value = '';
                DOM.incomeDate.value = getCurrentDate();
                DOM.incomeToSavings.value = '';
                
                if (saveToLocalStorage()) {
                    showNotification('Income logged successfully!');
                    updateStats();
                }
            } else {
                showNotification('Please enter amount, source, and date.', 'error');
            }
        });
        
        // Savings Tracker Events
        DOM.setGoalBtn.addEventListener('click', () => {
            const goalAmount = parseFloat(DOM.goalAmount.value);
            if (goalAmount > 0) {
                appData.savings.goal = goalAmount;
                updateSavingsDisplay();
                if (saveToLocalStorage()) {
                    showNotification('Savings goal set!');
                    updateStats();
                }
            } else {
                showNotification('Please enter a valid goal amount.', 'error');
            }
        });
        
        DOM.addSavingsBtn.addEventListener('click', () => {
            const savingsAmount = parseFloat(DOM.savingsAmount.value) || 0;
            const savingsNote = DOM.savingsNote.value.trim();
            
            if (savingsAmount > 0) {
                appData.savings.current += savingsAmount;
                appData.savings.logs.push({
                    date: getCurrentDate(),
                    amount: savingsAmount,
                    note: savingsNote || 'Direct deposit'
                });
                
                updateSavingsDisplay();
                updateSavingsTable();
                
                DOM.savingsAmount.value = '';
                DOM.savingsNote.value = '';
                
                if (saveToLocalStorage()) {
                    showNotification('Savings added successfully!');
                    updateStats();
                }
            } else {
                showNotification('Please enter an amount to save.', 'error');
            }
        });
        
        // Sleep Tracker Events
        DOM.saveSleepBtn.addEventListener('click', () => {
            const date = DOM.sleepDate.value;
            const bedtime = DOM.bedtime.value;
            const wakeTime = DOM.wakeTime.value;
            let quality = 'good';
            
            DOM.qualityOptions.forEach(option => {
                if (option.classList.contains('selected')) {
                    quality = option.dataset.quality;
                }
            });
            
            const newSleep = {
                date: date,
                bedtime: bedtime,
                wakeTime: wakeTime,
                quality: quality
            };
            
            // Check if entry exists for this date
            const existingIndex = appData.sleepHistory.findIndex(entry => entry.date === date);
            if (existingIndex >= 0) {
                appData.sleepHistory[existingIndex] = newSleep;
            } else {
                appData.sleepHistory.push(newSleep);
            }
            
            createSleepChart();
            if (saveToLocalStorage()) {
                showNotification('Sleep data saved successfully!');
            }
        });
        
        DOM.qualityOptions.forEach(option => {
            option.addEventListener('click', () => {
                DOM.qualityOptions.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                saveToLocalStorage();
            });
        });
        
        // Social Log Events
        DOM.saveSocialBtn.addEventListener('click', () => {
            const date = DOM.socialDate.value;
            const socialMedia = parseInt(DOM.socialMediaTime.value) || 0;
            const gaming = parseInt(DOM.gamingTime.value) || 0;
            const music = parseInt(DOM.musicTime.value) || 0;
            const unexpectedSocial = DOM.unexpectedSocial.value;
            
            const newSocial = {
                date: date,
                socialMedia: socialMedia,
                gaming: gaming,
                music: music,
                unexpectedSocial: unexpectedSocial
            };
            
            // Check if entry exists for this date
            const existingIndex = appData.socialHistory.findIndex(entry => entry.date === date);
            if (existingIndex >= 0) {
                appData.socialHistory[existingIndex] = newSocial;
            } else {
                appData.socialHistory.push(newSocial);
            }
            
            if (saveToLocalStorage()) {
                showNotification('Social log saved successfully!');
            }
        });
        
        // Update distraction totals when inputs change (throttled)
        const updateDistractionThrottled = throttle(updateDistractionTotals, 300);
        [DOM.socialMediaTime, DOM.gamingTime, DOM.musicTime].forEach(input => {
            input.addEventListener('input', updateDistractionThrottled);
        });
        
        // Mood & Energy Events
        DOM.saveMoodBtn.addEventListener('click', () => {
            const date = DOM.moodDate.value;
            let morning = 5;
            let evening = 5;
            
            // Get morning energy from active points
            const morningPoints = DOM.morningEnergy.querySelectorAll('.energy-point.active');
            if (morningPoints.length > 0) {
                morning = morningPoints.length;
            }
            
            // Get evening energy from active points
            const eveningPoints = DOM.eveningEnergy.querySelectorAll('.energy-point.active');
            if (eveningPoints.length > 0) {
                evening = eveningPoints.length;
            }
            
            const notes = DOM.moodNotes.value;
            
            const newMood = {
                date: date,
                morning: morning,
                evening: evening,
                notes: notes
            };
            
            // Check if entry exists for this date
            const existingIndex = appData.moodHistory.findIndex(entry => entry.date === date);
            if (existingIndex >= 0) {
                appData.moodHistory[existingIndex] = newMood;
            } else {
                appData.moodHistory.push(newMood);
            }
            
            // Update energy bars
            DOM.morningEnergyBar.style.height = `${morning * 10}%`;
            DOM.eveningEnergyBar.style.height = `${evening * 10}%`;
            
            if (saveToLocalStorage()) {
                showNotification('Mood & energy saved successfully!');
                updateStats();
            }
        });
        
        // Weekly Review Events
        DOM.saveReviewBtn.addEventListener('click', () => {
            appData.weeklyReview.wins = DOM.wins.value;
            appData.weeklyReview.losses = DOM.losses.value;
            appData.weeklyReview.nextWeekMission = DOM.nextWeekMission.value;
            
            if (saveToLocalStorage()) {
                showNotification('Weekly review saved successfully!');
            }
        });
        
        // Diary Events
        DOM.saveNotesBtn.addEventListener('click', () => {
            appData.diary = DOM.diaryNotes.value;
            if (saveToLocalStorage()) {
                showNotification('Diary notes saved successfully!');
            }
        });
        
        // AI Prompt Events
        DOM.newPromptBtn.addEventListener('click', generateAIPrompt);
        
        // PDF Export
        DOM.exportPDFBtn.addEventListener('click', () => {
            // Simple print functionality for PDF export
            window.print();
            showNotification('Use your browser\'s print dialog to save as PDF');
        });
        
        // Theme Toggle
        DOM.themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const icon = DOM.themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
                DOM.themeToggle.title = 'Switch to light mode';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                icon.className = 'fas fa-moon';
                DOM.themeToggle.title = 'Switch to dark mode';
                localStorage.setItem('darkMode', 'disabled');
            }
        });
        
        // Quick Add Events
        DOM.quickAddOptions.forEach(option => {
            option.addEventListener('click', () => {
                const type = option.dataset.quickAdd;
                showQuickAddForm(type);
            });
        });
        
        // Settings Events
        DOM.exportDataBtn.addEventListener('click', exportData);
        DOM.importDataBtn.addEventListener('click', importData);
        DOM.resetDataBtn.addEventListener('click', resetData);
        DOM.clearCacheBtn.addEventListener('click', clearCache);
        
        // Settings toggles
        if (DOM.darkModeToggle) {
            DOM.darkModeToggle.addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.add('dark-mode');
                    DOM.themeToggle.querySelector('i').className = 'fas fa-sun';
                } else {
                    document.body.classList.remove('dark-mode');
                    DOM.themeToggle.querySelector('i').className = 'fas fa-moon';
                }
            });
        }
        
        // Morning reminder (shows at 8 AM if not dismissed)
        function checkMorningReminder() {
            const now = new Date();
            const hour = now.getHours();
            
            // If it's between 8 AM and 9 AM and reminder hasn't been shown today
            if (hour === 8) {
                const lastReminderDate = localStorage.getItem('lastReminderDate');
                const today = getCurrentDate();
                
                if (lastReminderDate !== today) {
                    setTimeout(() => {
                        showNotification("Good morning! Don't forget to set your daily mission and track your progress.", "info");
                        localStorage.setItem('lastReminderDate', today);
                    }, 2000);
                }
            }
        }
        
        // Auto-save function (throttled)
        const autoSave = throttle(() => {
            if (saveToLocalStorage()) {
                console.log('Auto-saved data');
            }
        }, 2000);
        
        // ====== INITIALIZE APPLICATION ======
        document.addEventListener('DOMContentLoaded', () => {
            // Check for saved dark mode preference
            const darkMode = localStorage.getItem('darkMode');
            if (darkMode === 'enabled') {
                document.body.classList.add('dark-mode');
                DOM.themeToggle.querySelector('i').className = 'fas fa-sun';
                if (DOM.darkModeToggle) DOM.darkModeToggle.checked = true;
            }
            
            initializeApp();
            checkMorningReminder();
            
            // Set up auto-save for input fields
            const autoSaveFields = [
                DOM.missionInput, DOM.wins, DOM.losses, DOM.nextWeekMission, 
                DOM.moodNotes, DOM.unexpectedSocial, DOM.diaryNotes
            ];
            
            autoSaveFields.forEach(field => {
                field.addEventListener('input', autoSave);
            });
            
            // Periodically save data (every 30 seconds)
            setInterval(() => {
                autoSave();
            }, 30000);
            
            // Update storage display periodically
            setInterval(updateStorageDisplay, 60000);
            
            // Mobile-specific optimizations
            if (/Mobi|Android/i.test(navigator.userAgent)) {
                // Reduce animation intensity for low-power devices
                document.querySelectorAll('.card, .btn').forEach(el => {
                    el.style.transition = 'all 0.2s ease';
                });
                
                // Disable hover effects on mobile
                document.body.classList.add('mobile-device');
            }
        });
    </script>
</body>
</html>